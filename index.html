<html>
<head>
    <title>Pomodoro</title>
    <style>
        body {
            width: 100%;
            height: 100%;
        }

        #header {
            position: relative;
            top: 50%;
            transform: translateY(-50%);
        }

        h1, h2 {
            color: white;
            text-align: center;
            font-family: "HelveticaNeue-Light", "Helvetica Neue Light", Helvetica, Arial, "Lucida Grande", sans-serif; 
            font-weight: 300;
        }
    </style>
</head>
<body>
    <div id="header">
        <h1 id="time"></h1>
        <h2 id="color"></h2>
    </div>

    <script>
        (function() {
            var WORK_PERIOD = 25 * 60;
            var BREAK_PERIOD = 5 * 60;
            var isBreak = true;
            var timer, minutes, seconds, leadHex, hex;

            function updateTime() {
                seconds = timer % 60;
                minutes = (timer - seconds) / 60;

                if (minutes < 10) { minutes = '0' + minutes; }
                if (seconds < 10) { seconds = '0' + seconds; }

                leadHex = isBreak ? '#BB' : '#00';
                hex = leadHex + minutes + seconds; 
                
                document.body.style.background = hex;
                document.getElementById('color').innerHTML = hex;
                document.getElementById('time').innerHTML = 
                    minutes + ' : ' + seconds;
                
                timer -= 1;
            }

            function resetTimer() {
                timer = isBreak ? BREAK_PERIOD : WORK_PERIOD;
            }

            setInterval(function() {
                if (!timer) {
                    isBreak = !isBreak;
                    resetTimer();
                }
                updateTime();
            }, 1000);
        }());
    </script>
</body>
</html>
